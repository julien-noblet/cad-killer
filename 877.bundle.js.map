{"version":3,"file":"877.bundle.js","mappings":";;;;;;;;;;AAAA;AACA;AACA;;AAEwB;AACe;AAEvCA,wDAAS,CAACG,YAAY,GAAGH,sDAAS,CAACI,MAAM,CAAC;EACxCC,OAAO,EAAE;IACPC,QAAQ,EAAE,UAAU,CAAE;EACxB,CAAC;EAEDC,KAAK,EAAE,SAAAA,MAAA,EAAM;IACX,IAAMC,SAAS,GAAGR,sDAAS,CAACU,MAAM,CAAC,KAAK,EAAE,eAAe,CAAC;IAC1D,IAAMC,OAAO,GAAG,IAAIX,8DAAe,CAAC;MAClCa,GAAG,EAAEZ,yDAAW;MAChBa,aAAa,EAAE,SAAAA,cAACC,IAAI,EAAK;QACvB,IAAIA,IAAI,CAACC,QAAQ,KAAK,IAAI,EAAE;UAC1B,IAAID,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;YAC7B,IAAID,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC,CAACC,UAAU,KAAK,IAAI,EAAE;cACxCT,SAAS,CAACU,SAAS,+BAAAC,MAAA,CAAyBJ,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC,CAACC,UAAU,CAACG,KAAK,SAAG;YAClF;UACF;QACF;MACF;IACF,CAAC,CAAC;IAEFC,MAAM,CAACC,GAAG,CAACC,EAAE,CAAC,SAAS,EAAE,YAAM;MAC7B,IAAIF,MAAM,CAACC,GAAG,CAACE,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;QAC7Bb,OAAO,CAACc,SAAS,CAACJ,MAAM,CAACC,GAAG,CAACI,SAAS,CAAC,CAAC,CAAC;QACzC,IAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;QAC1C,IAAIP,GAAG,GAAGM,QAAQ,CAACC,cAAc,CAAC,KAAK,CAAC;QACxC,IAAIF,IAAI,KAAK,IAAI,EAAE;UACjBA,IAAI,CAACG,SAAS,IAAI,aAAa;QACjC;QACA,IAAIR,GAAG,KAAK,IAAI,EAAE;UAChBA,GAAG,CAACQ,SAAS,IAAI,SAAS;QAC5B;MACF,CAAC,MAAM;QACLtB,SAAS,CAACU,SAAS,GAAG,EAAE;MAC1B;IACF,CAAC,CAAC;IACF,OAAOV,SAAS;EAClB;AACF,CAAC,CAAC;AAEF,IAAIR,wDAAS,CAACG,YAAY,CAAC,CAAC,CAAC4B,KAAK,CAACV,MAAM,CAACC,GAAG,CAAC","sources":["webpack://cad-killer/./src/js/reverseLabel.js"],"sourcesContent":["/**\n * @format\n */\n\nimport L from \"leaflet\";\nimport { REVERSE_URL } from \"./config\";\n\nL.Control.ReverseLabel = L.Control.extend({\n  options: {\n    position: \"topright\", // hack\n  },\n\n  onAdd: () => {\n    const container = L.DomUtil.create(\"div\", \"reverse-label\");\n    const reverse = new L.PhotonReverse({\n      url: REVERSE_URL,\n      handleResults: (data) => {\n        if (data.features !== null) {\n          if (data.features[0] !== null) {\n            if (data.features[0].properties !== null) {\n              container.innerHTML = `Carte centrée sur «${data.features[0].properties.label}»`;\n            }\n          }\n        }\n      },\n    });\n\n    window.map.on(\"moveend\", () => {\n      if (window.map.getZoom() > 14) {\n        reverse.doReverse(window.map.getCenter());\n        let head = document.getElementById(\"head\");\n        let map = document.getElementById(\"map\");\n        if (head !== null) {\n          head.className += \" headmasked\";\n        }\n        if (map !== null) {\n          map.className += \" nohead\";\n        }\n      } else {\n        container.innerHTML = \"\";\n      }\n    });\n    return container;\n  },\n});\n\nnew L.Control.ReverseLabel().addTo(window.map);\n"],"names":["L","REVERSE_URL","Control","ReverseLabel","extend","options","position","onAdd","container","DomUtil","create","reverse","PhotonReverse","url","handleResults","data","features","properties","innerHTML","concat","label","window","map","on","getZoom","doReverse","getCenter","head","document","getElementById","className","addTo"],"sourceRoot":""}